import re

# Additional dictionary of translations for summary definitions (Batch 3)
# Keys are the exact English strings found in summary files
translations_map = {
     # --- Groups and Periods Review ---
    "What are the vertical columns called": "垂直列叫什么",
    ": Groups or Families": "：族",
    "What are the horizontal rows called": "水平行叫什么",
    ": Periods": "：周期",
    "Name of Group 1": "第 1 族的名称",
    ": Alkali Metals": "：碱金属",
    "Name of Group 2": "第 2 族的名称",
    ": Alkaline Earth Metals": "：碱土金属",
    "Name of Group 17": "第 17 族的名称",
    ": Halogens": "：卤素",
    "Name of Group 18": "第 18 族的名称",
    ": Noble Gases": "：稀有气体",
    "Where are metals located": "金属位于哪里",
    ": Left side of staircase": "：阶梯线的左侧",
    
    # --- Measurement Review ---
    "Base unit for length": "长度的基本单位",
    ": Meter": "：米",
    "Base unit for mass": "质量的基本单位",
    ": Kilogram": "：千克",
    "Base unit for time": "时间的基本单位",
    ": Second": "：秒",
    "Base unit for temperature": "温度的基本单位",
    ": Kelvin": "：开尔文",
    "What prefix means 1000": "什么前缀表示 1000",
    ": Kilo": "：千 (Kilo)",
    "What prefix means 1/100": "什么前缀表示 1/100",
    ": Centi": "：厘 (Centi)",
    "What prefix means 1/1000": "什么前缀表示 1/1000",
    ": Milli": "：毫 (Milli)",
    
    # --- Sig Figs Review ---
    "How many sig figs in 100.0": "100.0 有几个有效数字",
    ": 4": "：4",
    "How many sig figs in 405": "405 有几个有效数字",
    ": 3": "：3",
    "How many sig figs in 1000": "1000 有几个有效数字",
    ": 1 (ambiguous, usually 1 unless marked)": "：1（模棱两可，除非标记，通常为 1）",
    "Rule for multiplying sig figs": "乘法有效数字规则",
    ": Answer limited by term with fewest sig figs": "：答案受有效数字最少的项限制",
    "Rule for adding sig figs": "加法有效数字规则",
    ": Answer limited by least precise decimal place": "：答案受最不精确的小数位限制",
    
    # --- Moles Review ---
    "Value of Avogadro's Number": "阿伏伽德罗常数的值",
    ": 6.022 x 10^23": "：6.022 x 10^23",
    "What represents a mole": "什么代表摩尔",
    ": Avogadro's number of particles": "：阿伏伽德罗常数个粒子",
    "Converting Moles to Particles": "将摩尔转换为粒子",
    ": Multiply by Avogadro's Number": "：乘以阿伏伽德罗常数",
    
    # --- Electron Config Review ---
    "Sublevels in energy level 1": "能级 1 的亚层",
    ": s": "：s",
    "Sublevels in energy level 2": "能级 2 的亚层",
    ": s, p": "：s, p",
    "Sublevels in energy level 3": "能级 3 的亚层",
    ": s, p, d": "：s, p, d",
    "Max electrons in f sublevel": "f 亚层的最大电子数",
    ": 14": "：14",
    "Configuration for Carbon (6)": "碳 (6) 的排布",
    ": 1s2 2s2 2p2": "：1s2 2s2 2p2",
    "Configuration for Neon (10)": "氖 (10) 的排布",
    ": 1s2 2s2 2p6": "：1s2 2s2 2p6",
    
    # --- Principles ---
    "Aufbau Principle states": "构造原理陈述",
    ": Electrons fill lowest energy levels first": "：电子首先填充最低能级",
    "Hund's Rule states": "洪特规则陈述",
    ": Electrons fill orbitals singly before pairing": "：电子在配对前单独填充轨道",
    "Pauli Exclusion Principle": "泡利不相容原理", # Duplicate key check? Safe to overwrite/ignore
    ": Orbitals hold max 2 electrons with opposite spins": "：轨道最多容纳 2 个自旋相反的电子",
    
    # --- Acids/Bases Properties ---
    "Taste of acids": "酸的味道",
    ": Sour": "：酸",
    "Taste of bases": "碱的味道",
    ": Bitter": "：苦",
    "Feel of bases": "碱的手感",
    ": Slippery": "：滑腻",
    "Litmus test for acids": "酸的石蕊测试",
    ": Turns red": "：变红",
    "Strong acid definition": "强酸定义",
    ": Dissociates completely (100%)": "：完全解离 (100%)",
    "Weak acid definition": "弱酸定义",
    ": Dissociates partially (reversible)": "：部分解离（可逆）",
    "Is HCl strong or weak": "HCl 是强酸还是弱酸",
    ": Strong": "：强",
    "pH range for acids": "酸的 pH 范围",
    ": 0 to 7": "：0 到 7",
    "pH range for bases": "碱的 pH 范围",
    ": 7 to 14": "：7 到 14",
    
    # --- Gas Laws Formulas ---
    "Gay-Lussac's Law Formula": "盖-吕萨克定律公式",
    ": P1/T1 = P2/T2": "：P1/T1 = P2/T2",
    "Charles's Law Formula": "查理定律公式",
    ": V1/T1 = V2/T2": "：V1/T1 = V2/T2",
    "Relationship between Pressure and Temperature": "压力与温度的关系",
    ": Direct": "：正比",
    ": constant": "：恒定", # Very generic, context dependent
    ": Volume and Amount": "：体积和量",
    "Combined Gas Law Formula": "理想气体定律公式", # User likely meant Combined Gas Law
    ": P1V1/T1 = P2V2/T2": "：P1V1/T1 = P2V2/T2",
    ": held constant": "：保持恒定",
    ": Amount of gas (n)": "：气体量 (n)",
    
    # --- Trends Review ---
    "Trend for atomic radius across a period": "周期内原子半径的趋势",
    ": Decreases (left to right)": "：减小（从左到右）",
    "Trend for atomic radius down a group": "族内原子半径的趋势",
    ": Increases (top to bottom)": "：增加（从上到下）",
    "Trend for electronegativity across a period": "周期内电负性的趋势",
    ": Increases": "：增加",
    "Most electronegative element": "电负性最强的元素",
    ": Fluorine": "：氟",
    "Trend for ionization energy down a group": "族内电离能的趋势",
    ": Decreases": "：减小",
    "the shielding effect": "屏蔽效应",
    ": Inner electrons block pull of nucleus on valence electrons": "：内层电子阻挡原子核对价电子的吸引",
    "Does shielding chance across a period": "屏蔽效应在周期内变化吗",
    ": remains constant (mostly)": "：保持恒定（大部分）",
    
    # --- Pressure Review ---
    "Standard pressure in atm": "标准大气压 (atm)",
    ": 1 atm": "：1 atm",
    "Standard pressure in mmHg": "标准大气压 (mmHg)",
    ": 760 mmHg": "：760 mmHg",
    "Standard pressure in kPa": "标准大气压 (kPa)",
    ": 101.3 kPa": "：101.3 kPa",
    "What usually measures atmospheric pressure": "通常用什么测量大气压",
    ": Barometer": "：气压计",
    
    # --- Stoichiometry & Yield ---
    "Formula: Percent Yield =": "公式：产率 =",
    ": (Actual / Theoretical) x 100": "：(实际 / 理论) x 100",
    "Why is yield usually < 100%": "为什么产率通常 < 100%",
    ": Side reactions, spills, incomplete reaction": "：副反应、溢出、反应不完全",
    "Theoretical yield is...": "理论产量是...",
    ": Max possible product calculated": "：计算出的最大可能产物",
    
    # --- Solubility Review ---
    "Effect of temp on solid solubility": "温度对固体溶解度的影响",
    ": Usually increases": "：通常增加",
    "Effect of pressure on gas solubility": "压力对气体溶解度的影响",
    ": Increases (Henry's Law)": "：增加（亨利定律）",
    
    # --- Conversions ---
    "How many cm in 1 meter": "1 米有多少厘米",
    ": 100": "：100",
    "How many mL in 1 Liter": "1 升有多少毫升",
    ": 1000": "：1000",
    "Convert 2.5 kg to grams.": "将 2.5 kg 转换为克。",
    ": 2500 g": "：2500 g",
    "Convert 500 mg to grams.": "将 500 mg 转换为克。",
    ": 0.5 g": "：0.5 g",
    "dimensional analysis used for": "量纲分析用于",
    ": Converting units": "：单位换算",
    "How many minutes in 2 hours": "2 小时有多少分钟",
    ": 120": "：120",
    "Convert 0.005 to scientific notation.": "将 0.005 转换为科学计数法。",
    ": 5 x 10^-3": "：5 x 10^-3",
    "Convert 45000 to scientific notation.": "将 45000 转换为科学计数法。",
    ": 4.5 x 10^4": "：4.5 x 10^4",
    "What does a negative exponent indicate": "负指数表示什么",
    ": A number between 0 and 1": "：一个介于 0 和 1 之间的数",
    "What does a positive exponent indicate": "正指数表示什么",
    ": A number greater than 10": "：一个大于 10 的数",
    "Convert 2.3 x 10^2 to standard form.": "将 2.3 x 10^2 转换为标准形式。",
    ": 230": "：230",
    "Convert 8.9 x 10^-1 to standard form.": "将 8.9 x 10^-1 转换为标准形式。",
    ": 0.89": "：0.89",
    "Standard form for 1.0 x 10^0": "1.0 x 10^0 的标准形式",
    ": 1": "：1",
    "Convert 25C to Kelvin.": "将 25C 转换为开尔文。",
    ": 298 K": "：298 K",
    
    # --- Properties Review ---
    "an intensive property": "强度性质",
    ": A property that does NOT depend on the amount of matter": "：不依赖于物质数量的性质",
    "an extensive property": "广度性质",
    ": A property that DOES depend on the amount of matter": "：依赖于物质数量的性质",
    "Is density intensive or extensive": "密度是强度还是广度",
    ": Intensive": "：强度",
    "Is mass intensive or extensive": "质量是强度还是广度",
    ": Extensive": "：广度",
    "Does cutting a wire change its conductivity": "切割导线会改变其导电性吗",
    ": No, conductivity is intensive": "：不，导电性是强度性质",
    "a homogeneous mixture": "均匀混合物",
    ": A mixture that is uniform throughout": "：整体均匀的混合物",
    "a heterogeneous mixture": "非均匀混合物",
    ": A mixture that is not uniform throughout": "：整体不均匀的混合物",
    "Is salt water homogeneous or heterogeneous": "盐水是均匀的还是非均匀的",
    ": Homogeneous": "：均匀的",
    "Is a salad homogeneous or heterogeneous": "沙拉是均匀的还是非均匀的",
    ": Heterogeneous": "：非均匀的",
    "another name for a homogeneous mixture": "均匀混合物的另一个名称",
    ": Solution": "：溶液",
    "Can heterogeneous mixtures be separated by filtration": "非均匀混合物可以通过过滤分离吗",
    ": Yes, often locally separated": "：是的，通常可以局部分离",

    # --- Redox & Thermo ---
    "Oxidation is...": "氧化是...",
    ": Loss of electrons": "：失去电子",
    "Reduction is...": "还原是...",
    ": Gain of electrons": "：获得电子",
    "Memory tool for redox": "氧化还原记忆工具",
    ": OIL RIG": "：OIL RIG (氧化是失去，还原是获得)",
    "Oxidation state of pure element": "纯元素的氧化态",
    ": 0": "：0",
    "Definition of heat (q)": "热 (q) 的定义",
    ": Energy transfer due to temperature difference": "：由于温度差异引起的能量传递",
    "Unit for heat": "热的单位",
    ": Joule (J) or Calorie (cal)": "：焦耳 (J) 或 卡路里 (cal)",
    "1 calorie = ? Joules": "1 卡路里 = ? 焦耳",
    ": 4.184 J": "：4.184 J",
    "Definition of specific heat (c)": "比热 (c) 的定义",
    ": Energy required to raise 1g of substance by 1C": "：将 1g 物质升高 1C 所需的能量",
    "Specific heat of water": "水的比热",
    ": 4.18 J/gC (High)": "：4.18 J/gC（高）",
    "Enthalpy (H) represents": "焓 (H) 代表",
    ": Heat content of a system": "：系统的热含量",
    "Entropy (S) represents": "熵 (S) 代表",
    ": Disorder or randomness": "：无序或随机性",
    "Gibbs Free Energy (G) predicts": "吉布斯自由能 (G) 预测",
    ": Spontaneity": "：白发性",
    "Negative Delta G means": "负 Delta G 意味着",
    ": Spontaneous reaction": "：自发反应",
    "Effect of temperature on rate": "温度对速率的影响",
    ": Increase Temp -> Increase Rate": "：升高温度 -> 增加速率",
    "Effect of concentration on rate": "浓度对速率的影响",
    ": Increase Conc -> Increase Rate": "：增加浓度 -> 增加速率",
    "Effect of surface area on rate": "表面积对速率的影响",
    ": Increase SA -> Increase Rate": "：增加表面积 -> 增加速率",
    
    # --- Bonding Review ---
    "What are valence electrons": "什么是价电子",
    ": Electrons in the outermost energy level": "：最外层能级中的电子",
    "How many valence electrons in Group 17": "第 17 族有多少个价电子",
    ": 7": "：7",
    "Why do atoms bond": "原子为什么键合",
    ": To achieve a stable octet (8 valence electrons)": "：为了达到稳定的八隅体（8 个价电子）",
    "Which group is unreactive": "哪一族不活泼",
    ": Group 18 (Noble Gases)": "：第 18 族（稀有气体）",
    "Formula for Calcium (+2) and Chloride (-1)": "钙 (+2) 和氯 (-1) 的化学式",
    ": CaCl2": "：CaCl2",
    "Formula for Aluminum (+3) and Oxide (-2)": "铝 (+3) 和氧化物 (-2) 的化学式",
    ": Al2O3": "：Al2O3",
    "Formula for Sodium (+1) and Sulfur (-2)": "钠 (+1) 和硫 (-2) 的化学式",
    ": Na2S": "：Na2S",
    
    # --- Energy Changes ---
    "an exothermic reaction": "放热反应",
    ": A reaction that releases heat/energy to the surroundings": "：向环境释放热/能量的反应",
    "an endothermic reaction": "吸热反应",
    ": A reaction that absorbs heat/energy from the surroundings": "：从环境吸收热/能量的反应",
    "Does the temperature increase or decrease in an exothermic reaction": "放热反应中温度是升高还是降低",
    ": Increase": "：升高",
    "Does the temperature increase or decrease in an endothermic reaction": "吸热反应中温度是升高还是降低",
    ": Decrease": "：降低",
    "Is melting ice endothermic or exothermic": "冰融化是吸热的还是放热的",
    ": Endothermic": "：吸热",
    
    # --- Colligative Properties Review ---
    "What are colligative properties": "什么是依数性",
    ": Depend on number of solute particles, not identity": "：取决于溶质粒子数量，而非及其特性",
    "Freezing point depression": "凝固点降低",
    ": Adding solute lowers freezing point": "：加入溶质降低凝固点",
    "Boiling point elevation": "沸点升高",
    ": Adding solute raises boiling point": "：加入溶质升高沸点",
    "Vapor pressure lowering": "蒸气压降低",
    ": Adding solute lowers vapor pressure": "：加入溶质降低蒸气压",
    
    # --- Reactions Types ---
    "Reversible Reaction": "可逆反应",
    ": A reaction that can proceed in both forward and reverse directions (⇌).": "：可以在正向和逆向两个方向进行的反应 (⇌)。",
    "Adding Reactant": "添加反应物",
    ": Shifts equilibrium toward products (forward).": "：平衡向产物方向移动（正向）。",
    "Increasing Temperature": "升高温度",
    ": Shifts equilibrium in the endothermic direction.": "：平衡向吸热方向移动。",
    "Changing Pressure": "改变压力",
    ": Increasing pressure shifts toward the side with fewer moles of gas.": "：增加压力向气体摩尔数较少的一侧移动。",
    "Synthesis (Combination)": "合成（化合）",
    ": Two or more reactants combine to form one product: A + B → AB.": "：两种或多种反应物结合形成一种产物：A + B → AB。",
    "Decomposition": "分解",
    ": One compound breaks down into two or more simpler substances: AB → A + B.": "：一种化合物分解成两种或多种更简单的物质：AB → A + B。",
    "Single Replacement": "置换",
    ": One element replaces another in a compound: A + BC → AC + B.": "：一种元素替换化合物中的另一种元素：A + BC → AC + B。",
    "Double Replacement": "复分解",
    ": Ions in two compounds exchange partners: AB + CD → AD + CB.": "：两种化合物中的离子交换伙伴：AB + CD → AD + CB。",
    "Combustion": "燃烧",
    ": A substance reacts with oxygen, releasing energy as heat and light.": "：物质与氧气反应，以热和光的形式释放能量。",
    "Precipitate": "沉淀",
    ": An insoluble solid formed in a double replacement reaction.": "：在复分解反应中形成的不溶性固体。",
    "Law of Conservation of Mass": "质量守恒定律",
    ": Matter cannot be created or destroyed; atoms must balance on both sides.": "：物质不能被创造或毁灭；两边的原子必须平衡。",
    "Subscript": "下标",
    ": A number within a formula showing how many atoms of an element are in a molecule; NEVER change subscripts.": "：化学式中的数字，显示分子中某种元素的原子数；永远不要更改下标。",
    "Balancing Steps": "平衡步骤",
    ": 1) Write the unbalanced equation. 2) Count atoms on each side. 3) Add coefficients to balance. 4) Verify.": "：1) 写出未平衡的方程。2) 计算每边的原子数。3) 添加系数以平衡。4) 验证。",
    "Diatomic Elements": "双原子元素",
    ": Elements that exist as pairs: H₂, N₂, O₂, F₂, Cl₂, Br₂, I₂ (remember HONClBrIF).": "：成对存在的元素：H₂, N₂, O₂, F₂, Cl₂, Br₂, I₂（记住 HONClBrIF）。",
    "Balanced Equation": "平衡方程",
    ": An equation with equal numbers of each type of atom on both sides.": "：两边每种类型的原子数相等的方程。",
    "Complete Combustion": "完全燃烧",
    ": Hydrocarbon + O₂ → CO₂ + H₂O; occurs with plenty of oxygen.": "：碳氢化合物 + O₂ → CO₂ + H₂O；发生在氧气充足时。",
    "Incomplete Combustion": "不完全燃烧",
    ": Produces CO (carbon monoxide) or C (soot) instead of CO₂ due to limited oxygen.": "：由于氧气有限，产生 CO（一氧化碳）或 C（烟灰）而不是 CO₂。",
    "Hydrocarbon": "碳氢化合物",
    ": A compound containing only carbon and hydrogen (e.g., CH₄, C₃H₈).": "：仅含碳和氢的化合物（例如 CH₄, C₃H₈）。",
    "Fuel": "燃料",
    ": A substance that undergoes combustion to release usable energy.": "：进行燃烧释放可用能量的物质。",
    "Products of Complete Combustion": "完全燃烧的产物",
    ": Always carbon dioxide (CO₂) and water (H₂O).": "：总是二氧化碳 (CO₂) 和水 (H₂O)。",
    "Energy Diagram": "能量图",
    ": A graph showing energy changes during a reaction; Ea is the 'hill' reactants must overcome.": "：显示反应过程中能量变化的图表；Ea 是反应物必须克服的'山丘'。",
    "Activated Complex": "活化络合物",
    ": The unstable, high-energy transition state at the top of the energy barrier.": "：位于能量屏障顶部的不稳定、高能过渡态。",
    "Oxidation": "氧化",
    ": Loss of electrons (or gain of oxygen); oxidation number increases.": "：失去电子（或获得氧）；氧化数增加。",
    "Reduction": "还原",
    ": Gain of electrons (or loss of oxygen); oxidation number decreases.": "：获得电子（或失去氧）；氧化数减少。",
    "Redox Reaction": "氧化还原反应",
    ": A reaction where oxidation and reduction occur simultaneously.": "：氧化和还原同时发生的反应。",
    "Oxidizing Agent": "氧化剂",
    ": The substance that is reduced (gains electrons); causes oxidation in another substance.": "：被还原的物质（获得电子）；导致另一种物质氧化。",
    "Reducing Agent": "还原剂",
    ": The substance that is oxidized (loses electrons); causes reduction in another substance.": "：被氧化的物质（失去电子）；导致另一种物质还原。",
    "Reaction Rate": "反应速率",
    ": The speed at which reactants are converted to products.": "：反应物转化为产物的速度。",
    "Collision Theory": "碰撞理论",
    ": Particles must collide with enough energy and proper orientation to react.": "：粒子必须具有足够的能量和适当的方向碰撞才能反应。",
    "Concentration Effect": "浓度效应",
    ": Higher concentration means more particles → more collisions → faster rate.": "：浓度越高意味着粒子越多 → 碰撞越多 → 速率越快。",
    "Surface Area Effect": "表面积效应",
    ": Smaller particles (greater surface area) react faster.": "：较小的粒子（较大的表面积）反应更快。",
    "Hess's Law": "赫斯定律",
    ": The total enthalpy change for a reaction is the same regardless of the pathway taken.": "：无论采取何种途径，反应的总焓变都是相同的。",
    "Application": "应用",
    ": Add ΔH values of individual steps to find the overall ΔH of a reaction.": "：将各个步骤的 ΔH 值相加以求出反应的总 ΔH。",
    "Reversing a Reaction": "逆转反应",
    ": Changes the sign of ΔH. If forward is −100 kJ, reverse is +100 kJ.": "：改变 ΔH 的符号。如果正向是 -100 kJ，则逆向是 +100 kJ。",
    "Multiplying a Reaction": "乘以反应",
    ": Multiply ΔH by the same factor. If doubled, ΔH doubles.": "：乘以相同的因子 ΔH 。如果加倍，ΔH 加倍。",
    "Heat (q)": "热 (q)",
    ": Energy transferred between objects due to a temperature difference, measured in joules (J) or calories (cal).": "：由于温差在物体之间传递的能量，以焦耳 (J) 或卡路里 (cal) 测量。",
    "Joule (J)": "焦耳 (J)",
    ": The SI unit of energy. 1 calorie = 4.184 joules.": "：能量的 SI 单位。1 卡路里 = 4.184 焦耳。",
    "Calorie (cal)": "卡路里 (cal)",
    ": The amount of energy needed to raise 1 g of water by 1°C.": "：将 1 g 水升高 1°C 所需的能量。",
    "Kilocalorie (kcal)": "千卡 (kcal)",
    ": 1 kcal = 1000 cal = 1 food Calorie (Cal).": "：1 kcal = 1000 cal = 1 大卡 (Cal)。",
    "Heat Capacity (C)": "热容 (C)",
    ": The amount of heat needed to raise the temperature of an entire object by 1°C.": "：将整个物体温度升高 1°C 所需的热量。",
    "Difference from Specific Heat": "与比热的区别",
    ": Heat capacity depends on total mass; specific heat is per gram.": "：热容取决于总质量；比热是每克。",
    "Formula": "公式", # Generic, careful
    ": q = CΔT, where C = heat capacity of the object.": "：q = CΔT，其中 C = 物体的热容。",
    "Relationship": "关系",
    ": C = m × c (heat capacity = mass × specific heat).": "：C = m × c（热容 = 质量 × 比热）。",
    "Specific Heat (c)": "比热 (c)",
    ": The amount of energy needed to raise 1 gram of a substance by 1°C.": "：将 1 克物质升高 1°C 所需的能量。",
    ": q = mcΔT, where q = heat, m = mass, c = specific heat, ΔT = change in temperature.": "：q = mcΔT，其中 q = 热，m = 质量，c = 比热，ΔT = 温度变化。",
    "Water's Specific Heat": "水的比热",
    ": 4.184 J/g°C — very high, which is why water heats and cools slowly.": "：4.184 J/g°C — 很高，这就是水加热和冷却缓慢的原因。",
    "Enthalpy (H)": "焓 (H)",
    ": The total heat content of a system. ΔH < 0 = exothermic; ΔH > 0 = endothermic.": "：系统的总热含量。ΔH < 0 = 放热；ΔH > 0 = 吸热。",
    "Entropy (S)": "熵 (S)",
    ": A measure of disorder/randomness. ΔS > 0 means disorder increases.": "：无序/随机性的度量。ΔS > 0 意味着无序增加。",
    "Gibbs Free Energy (G)": "吉布斯自由能 (G)",
    ": ΔG = ΔH − TΔS. If ΔG < 0, the reaction is spontaneous.": "：ΔG = ΔH − TΔS。如果 ΔG < 0，则反应是自发的。",
    "Spontaneous Reaction": "自发反应",
    ": Occurs without continuous outside energy input (ΔG < 0).": "：无需持续的外部能量输入即可发生 (ΔG < 0)。",
    "Calorimetry": "量热法",
    ": The measurement of heat changes during chemical or physical processes.": "：测量化学或物理过程中的热量变化。",
    "Calorimeter": "量热计",
    ": A device used to measure heat exchange. A simple version is a coffee-cup calorimeter.": "：用于测量热交换的装置。简单版本是咖啡杯量热计。",
    "Principle": "原理",
    ": q_lost = −q_gained. Heat lost by a hot object equals heat gained by a cold object.": "：q_lost = −q_gained。热物体失去的热量等于冷物体获得的热量。",
    "Bomb Calorimeter": "弹式量热计",
    ": Used for combustion reactions; measures heat at constant volume.": "：用于燃烧反应；在恒定体积下测量热量。",
}

# Same injection logic as before
json_path = "ArisEdu Project Folder/scripts/global_translations.js"
with open(json_path, 'r', encoding='utf-8') as f:
    content = f.read()

# Build injection string
insertion = ""
for key, val in translations_map.items():
    json_key_str = f'"{key}"'
    if json_key_str not in content:
        safe_key = key.replace('"', '\\"').replace('\n', ' ')
        safe_val = val.replace('"', '\\"').replace('\n', ' ')
        insertion += f'  "{safe_key}": "{safe_val}",\n'

if insertion:
    anchor = '"IN PROGRESS": "进行中"'
    if anchor in content:
        replacement = f'{anchor},\n{insertion.rstrip(",\n")}'
        new_content = content.replace(anchor, replacement)
        with open(json_path, 'w', encoding='utf-8') as f:
            f.write(new_content)
        print(f"Successfully injected {len([l for l in insertion.splitlines() if l])} MORE summary definitions (Batch 3).")
    else:
        print("Anchor not found.")
else:
    print("No new unique Summary definitions to inject in Batch 3.")
