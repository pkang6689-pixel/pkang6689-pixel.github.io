<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Arcade</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="firebase-utils.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700&amp;display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/ArisEdu Project Folder/styles/main.css">
  <style>
    .arcade-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
      gap: 2rem;
      flex-wrap: wrap;
    }

    #game-session-display {
      background: rgba(34, 197, 94, 0.15);
      border: 2px solid rgba(34, 197, 94, 0.3);
      border-radius: 1rem;
      padding: 1rem 1.5rem;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      min-width: 200px;
    }

    #game-session-display.warning {
      background: rgba(239, 68, 68, 0.15);
      border-color: rgba(239, 68, 68, 0.3);
    }

    .session-timer {
      font-size: 1.2rem;
      color: #64748b;
      font-weight: 600;
    }

    .session-time {
      font-size: 3.5rem;
      font-family: 'Courier New', monospace;
      font-weight: 700;
      color: #22c55e;
      letter-spacing: 2px;
    }

    #game-session-display.warning .session-time {
      color: #ef4444;
      animation: pulse-warning 1s infinite;
    }

    @keyframes pulse-warning {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }

    .extend-buttons {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      margin-top: 0.5rem;
    }

    .extend-btn {
      flex: 1;
      min-width: 90px;
      padding: 0.5rem 0.75rem;
      border-radius: 0.5rem;
      border: none;
      background: linear-gradient(135deg, #2563eb, #1d4ed8);
      color: white;
      cursor: pointer;
      font-weight: 600;
      font-size: 0.85rem;
      transition: all 0.2s;
    }

    .extend-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
    }

    .extend-btn:active {
      transform: scale(0.95);
    }

    .extend-btn:disabled {
      background: #e2e8f0;
      color: #94a3b8;
      cursor: not-allowed;
      transform: none;
    }

    .arcade-container {
      background: #f8fafc;
      border: 2px solid rgba(226, 232, 240, 0.8);
      border-radius: 2rem;
      padding: 2.5rem;
      margin-bottom: 2rem;
    }

    body.dark-mode .arcade-container {
      background: #273244;
      border: 2px solid rgba(226, 232, 240, 0.22);
    }

    body.dark-mode #game-session-display {
      background: rgba(34, 197, 94, 0.1);
      border-color: rgba(34, 197, 94, 0.2);
    }

    .arcade-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 2rem;
    }

    @media (max-width: 768px) {
      .arcade-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 480px) {
      .arcade-grid {
        grid-template-columns: 1fr;
      }
      .arcade-header {
        flex-direction: column;
        align-items: flex-start;
      }
    }

    .game-card {
      background: #ffffff;
      border: 2px solid #e2e8f0;
      border-radius: 1.25rem;
      padding: 2rem 1.5rem;
      text-align: center;
      transition: all 0.3s ease;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1rem;
      text-decoration: none;
      position: relative;
      overflow: hidden;
    }

    .game-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      border-radius: 1.25rem 1.25rem 0 0;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .game-card:hover::before {
      opacity: 1;
    }

    .game-card:hover {
      transform: translateY(-6px);
      box-shadow: 0 12px 24px rgba(0, 0, 0, 0.12);
      border-color: transparent;
    }

    body.dark-mode .game-card {
      background: #1e293b;
      border-color: #334155;
    }

    body.dark-mode .game-card:hover {
      background: #1e293b;
      box-shadow: 0 12px 24px rgba(0, 0, 0, 0.4);
    }

    .game-icon {
      width: 80px;
      height: 80px;
      border-radius: 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.5rem;
      flex-shrink: 0;
    }

    .game-title {
      font-family: 'Orbitron', 'Poppins', sans-serif;
      font-size: 1.05rem;
      font-weight: 700;
      letter-spacing: 0.02em;
    }

    .game-desc {
      font-size: 0.85rem;
      color: #64748b;
      line-height: 1.4;
    }

    body.dark-mode .game-desc {
      color: #94a3b8;
    }

    /* Snake - green */
    .game-card.snake::before { background: linear-gradient(90deg, #22c55e, #16a34a); }
    .game-card.snake .game-icon { background: rgba(34, 197, 94, 0.15); }
    .game-card.snake .game-title { color: #22c55e; }

    /* Pac-Man - yellow */
    .game-card.pacman::before { background: linear-gradient(90deg, #facc15, #eab308); }
    .game-card.pacman .game-icon { background: rgba(250, 204, 21, 0.15); }
    .game-card.pacman .game-title { color: #eab308; }

    /* Platformer - blue */
    .game-card.platformer::before { background: linear-gradient(90deg, #3b82f6, #2563eb); }
    .game-card.platformer .game-icon { background: rgba(59, 130, 246, 0.15); }
    .game-card.platformer .game-title { color: #3b82f6; }

    /* Spaceship - purple */
    .game-card.spaceship::before { background: linear-gradient(90deg, #8b5cf6, #7c3aed); }
    .game-card.spaceship .game-icon { background: rgba(139, 92, 246, 0.15); }
    .game-card.spaceship .game-title { color: #8b5cf6; }

    /* Tetris - red/orange */
    .game-card.tetris::before { background: linear-gradient(90deg, #ef4444, #f97316); }
    .game-card.tetris .game-icon { background: rgba(239, 68, 68, 0.15); }
    .game-card.tetris .game-title { color: #ef4444; }

    /* Block Puzzle - teal */
    .game-card.blocks::before { background: linear-gradient(90deg, #14b8a6, #0d9488); }
    .game-card.blocks .game-icon { background: rgba(20, 184, 166, 0.15); }
    .game-card.blocks .game-title { color: #14b8a6; }

    /* 2048 - amber */
    .game-card.game2048::before { background: linear-gradient(90deg, #f59e0b, #d97706); }
    .game-card.game2048 .game-icon { background: rgba(245, 158, 11, 0.15); }
    .game-card.game2048 .game-title { color: #f59e0b; }

    /* Breakout - pink/rose */
    .game-card.breakout::before { background: linear-gradient(90deg, #ec4899, #db2777); }
    .game-card.breakout .game-icon { background: rgba(236, 72, 153, 0.15); }
    .game-card.breakout .game-title { color: #ec4899; }

    /* Flappy - cyan */
    .game-card.flappy::before { background: linear-gradient(90deg, #06b6d4, #0891b2); }
    .game-card.flappy .game-icon { background: rgba(6, 182, 212, 0.15); }
    .game-card.flappy .game-title { color: #06b6d4; }

    /* Minesweeper - indigo */
    .game-card.minesweeper::before { background: linear-gradient(90deg, #6366f1, #4f46e5); }
    .game-card.minesweeper .game-icon { background: rgba(99, 102, 241, 0.15); }
    .game-card.minesweeper .game-title { color: #6366f1; }

    /* Match - lime */
    .game-card.match::before { background: linear-gradient(90deg, #84cc16, #65a30d); }
    .game-card.match .game-icon { background: rgba(132, 204, 22, 0.15); }
    .game-card.match .game-title { color: #84cc16; }
  </style>
  <script src="theme_manager.js"></script>
</head>
 <body class="dark-mode h-full">
<script src="scripts/taskbar.js"></script>
  <main class="main-container">
    <div class="arcade-header">
      <h1 id="company-name" class="logo-font page-title" style="font-size: 3rem; margin-bottom: 0;" data-i18n="üëæ Arcade">üëæ Arcade</h1>
      <div id="game-session-display">
        <div class="session-timer" data-i18n="Your Tokens">Your Tokens</div>
        <div class="session-time" id="token-balance">0</div>
      </div>
    </div>

    <div class="arcade-container">
      <div class="arcade-grid">

        <!-- 2048 -->
        <a href="Game2048.html" class="game-card game2048">
          <div class="game-icon">2Ô∏è‚É£
          </div>
          <span class="game-title" data-i18n="2048">2048</span>
          <span class="game-desc" data-i18n="Slide tiles, merge to 2048!">Slide tiles, merge to 2048!</span>
        </a>

        <!-- Flappy Bird -->
        <a href="GameFlappy.html" class="game-card flappy">
          <div class="game-icon">üê¶
          </div>
          <span class="game-title" data-i18n="FLAPPY BIRD">FLAPPY BIRD</span>
          <span class="game-desc" data-i18n="Tap to fly, dodge the pipes!">Tap to fly, dodge the pipes!</span>
        </a>

        <!-- Breakout -->
        <a href="GameBreakout.html" class="game-card breakout">
          <div class="game-icon">üß±
          </div>
          <span class="game-title" data-i18n="BREAKOUT">BREAKOUT</span>
          <span class="game-desc" data-i18n="Smash all the bricks!">Smash all the bricks!</span>
        </a>

        <!-- Minesweeper -->
        <a href="GameMinesweeper.html" class="game-card minesweeper">
          <div class="game-icon">üí£
          </div>
          <span class="game-title" data-i18n="MINESWEEPER">MINESWEEPER</span>
          <span class="game-desc" data-i18n="Find all the safe squares!">Find all the safe squares!</span>
        </a>

        <!-- Match -->
        <a href="GameMatch.html" class="game-card match">
          <div class="game-icon">üÉè
          </div>
          <span class="game-title" data-i18n="MATCH">MATCH</span>
          <span class="game-desc" data-i18n="Find matching pairs!">Find matching pairs!</span>
        </a>

        <!-- Snake -->
        <a href="GameSnake.html" class="game-card snake">
          <div class="game-icon">
            <svg viewBox="0 0 64 64" width="48" height="48" fill="none">
              <rect x="8" y="28" width="8" height="8" rx="1" fill="#22c55e"/>
              <rect x="16" y="28" width="8" height="8" rx="1" fill="#16a34a"/>
              <rect x="24" y="28" width="8" height="8" rx="1" fill="#22c55e"/>
              <rect x="32" y="28" width="8" height="8" rx="1" fill="#16a34a"/>
              <rect x="32" y="20" width="8" height="8" rx="1" fill="#22c55e"/>
              <rect x="40" y="20" width="8" height="8" rx="1" fill="#16a34a"/>
              <circle cx="46" cy="23" r="1.5" fill="white"/>
              <circle cx="46" cy="23" r="0.8" fill="#0f172a"/>
              <circle cx="52" cy="44" r="4" fill="#ef4444"/>
            </svg>
          </div>
          <span class="game-title" data-i18n="SNAKE">SNAKE</span>
          <span class="game-desc" data-i18n="Eat apples, grow longer, don't hit yourself!">Eat apples, grow longer, don't hit yourself!</span>
        </a>

        <!-- Pac-Man -->
        <a href="GamePacman.html" class="game-card pacman">
          <div class="game-icon">
            <svg viewBox="0 0 64 64" width="48" height="48" fill="none">
              <path d="M32 8 A24 24 0 1 1 32 56 A24 24 0 0 1 32 8 Z" fill="#facc15"/>
              <path d="M32 32 L56 20 L56 44 Z" fill="#1e293b"/>
              <circle cx="36" cy="22" r="3" fill="#0f172a"/>
              <circle cx="10" cy="32" r="2" fill="#facc15" opacity="0.6"/>
              <circle cx="18" cy="32" r="2" fill="#facc15" opacity="0.6"/>
            </svg>
          </div>
          <span class="game-title" data-i18n="PAC-MAN">PAC-MAN</span>
          <span class="game-desc" data-i18n="Chomp pellets, dodge ghosts, clear the maze!">Chomp pellets, dodge ghosts, clear the maze!</span>
        </a>

        <!-- Platformer -->
        <a href="GamePlatformer.html" class="game-card platformer">
          <div class="game-icon">
            <svg viewBox="0 0 64 64" width="48" height="48" fill="none">
              <rect x="4" y="52" width="56" height="8" rx="2" fill="#3b82f6" opacity="0.3"/>
              <rect x="20" y="36" width="24" height="6" rx="2" fill="#3b82f6" opacity="0.5"/>
              <rect x="36" y="20" width="20" height="6" rx="2" fill="#3b82f6" opacity="0.7"/>
              <rect x="8" y="20" width="16" height="6" rx="2" fill="#3b82f6" opacity="0.7"/>
              <rect x="24" y="42" width="8" height="10" rx="1" fill="#3b82f6"/>
              <circle cx="28" cy="38" r="5" fill="#60a5fa"/>
              <circle cx="26" cy="37" r="1" fill="white"/>
              <circle cx="30" cy="37" r="1" fill="white"/>
            </svg>
          </div>
          <span class="game-title" data-i18n="PLATFORMER">PLATFORMER</span>
          <span class="game-desc" data-i18n="Jump, run, and reach the flag!">Jump, run, and reach the flag!</span>
        </a>

        <!-- Spaceship Shooter -->
        <a href="GameSpaceship.html" class="game-card spaceship">
          <div class="game-icon">
            <svg viewBox="0 0 64 64" width="48" height="48" fill="none">
              <polygon points="32,4 22,44 32,38 42,44" fill="#8b5cf6"/>
              <polygon points="32,38 22,44 18,52 32,46" fill="#7c3aed"/>
              <polygon points="32,38 42,44 46,52 32,46" fill="#6d28d9"/>
              <rect x="30" y="46" width="4" height="10" rx="1" fill="#f97316"/>
              <rect x="28" y="50" width="8" height="8" rx="1" fill="#fbbf24" opacity="0.6"/>
              <circle cx="20" cy="12" r="1" fill="white" opacity="0.5"/>
              <circle cx="50" cy="24" r="1.5" fill="white" opacity="0.4"/>
              <circle cx="12" cy="36" r="1" fill="white" opacity="0.3"/>
              <circle cx="54" cy="48" r="0.8" fill="white" opacity="0.5"/>
            </svg>
          </div>
          <span class="game-title" data-i18n="SPACE SHOOTER">SPACE SHOOTER</span>
          <span class="game-desc" data-i18n="Blast enemies, dodge asteroids, survive waves!">Blast enemies, dodge asteroids, survive waves!</span>
        </a>

        <!-- Tetris -->
        <a href="GameTetris.html" class="game-card tetris">
          <div class="game-icon">
            <svg viewBox="0 0 64 64" width="48" height="48" fill="none">
              <rect x="16" y="8" width="10" height="10" rx="1" fill="#ef4444"/>
              <rect x="26" y="8" width="10" height="10" rx="1" fill="#ef4444"/>
              <rect x="26" y="18" width="10" height="10" rx="1" fill="#ef4444"/>
              <rect x="36" y="18" width="10" height="10" rx="1" fill="#ef4444"/>
              <rect x="8" y="44" width="10" height="10" rx="1" fill="#3b82f6"/>
              <rect x="18" y="44" width="10" height="10" rx="1" fill="#3b82f6"/>
              <rect x="28" y="44" width="10" height="10" rx="1" fill="#3b82f6"/>
              <rect x="38" y="44" width="10" height="10" rx="1" fill="#3b82f6"/>
              <rect x="18" y="28" width="10" height="10" rx="1" fill="#22c55e"/>
              <rect x="28" y="28" width="10" height="10" rx="1" fill="#22c55e"/>
              <rect x="28" y="38" width="10" height="10" rx="1" fill="#facc15"/>
              <rect x="38" y="38" width="10" height="10" rx="1" fill="#facc15"/>
              <rect x="38" y="28" width="10" height="10" rx="1" fill="#facc15"/>
            </svg>
          </div>
          <span class="game-title" data-i18n="TETRIS">TETRIS</span>
          <span class="game-desc" data-i18n="Stack blocks, clear lines, beat your high score!">Stack blocks, clear lines, beat your high score!</span>
        </a>

        <!-- Block Puzzle -->
        <a href="GameBlocks.html" class="game-card blocks">
          <div class="game-icon">
            <svg viewBox="0 0 64 64" width="48" height="48" fill="none">
              <rect x="8" y="8" width="12" height="12" rx="2" fill="#14b8a6"/>
              <rect x="22" y="8" width="12" height="12" rx="2" fill="#0d9488"/>
              <rect x="8" y="22" width="12" height="12" rx="2" fill="#0d9488"/>
              <rect x="22" y="22" width="12" height="12" rx="2" fill="#14b8a6"/>
              <rect x="36" y="22" width="12" height="12" rx="2" fill="#14b8a6" opacity="0.5"/>
              <rect x="8" y="36" width="12" height="12" rx="2" fill="#14b8a6" opacity="0.5"/>
              <rect x="22" y="36" width="12" height="12" rx="2" fill="#0d9488" opacity="0.5"/>
              <rect x="36" y="36" width="12" height="12" rx="2" fill="#14b8a6" opacity="0.3"/>
              <rect x="36" y="8" width="12" height="12" rx="2" fill="#14b8a6" opacity="0.3"/>
            </svg>
          </div>
          <span class="game-title" data-i18n="BLOCK PUZZLE">BLOCK PUZZLE</span>
          <span class="game-desc" data-i18n="Drag & drop shapes, clear rows and columns!">Drag &amp; drop shapes, clear rows and columns!</span>
        </a>

      </div>
    </div>
  </main>

  <!-- Translation Scripts -->
  <script src="scripts/global_translations.js?v=7.0"></script>
  <script src="scripts/spanish_translations.js?v=1.0"></script>
  <script src="scripts/hindi_translations.js?v=1.0"></script>

  <script>
    (async function() {
      // Initialize Firebase
      await initializeFirebase();

      async function updateTokenDisplay() {
        const user = await getUser();
        const tokenBalance = document.getElementById('token-balance');
        if (tokenBalance) {
          tokenBalance.textContent = (user.points || 0) + 'üíé';
        }
      }

      // Update token display on load
      updateTokenDisplay();

      // Listen for storage changes (token updates from games)
      window.addEventListener('storage', updateTokenDisplay);

      // Add click handler to all game cards
      document.querySelectorAll('.game-card').forEach(card => {
        card.onclick = (e) => {
          e.preventDefault();
          updateTokenDisplay().then(() => {
            const user = JSON.parse(localStorage.getItem('user') || '{}');
            if ((user.points || 0) <= 0) {
              alert('You need tokens to play! Earn more by completing lessons.');
              return;
            }
            sessionStorage.setItem('validGameAccess', 'true');
            window.location.href = card.href;
          });
        };
      });
    })();
  </script>
 </body>
</html>
